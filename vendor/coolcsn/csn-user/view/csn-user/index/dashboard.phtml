<body ng-controller="DashboardController" ng-init="init('<?php echo $user; ?>', '<?php echo $role; ?>')" id="dashboard">
    <div class="overlay" ng-show="show_popup"></div>
    <div class="container_div">
        <div class="popup login_box" ng-show="show_popup" >
            <div id="assign_mentee_mentor">
                <div class="popup_header login_header"> 
                    <h3> Assign [[selected_mentee.firstName]] a mentor </h3>
                    <a href="" ng-click="show_popup=false;" class="close_button"> X </a>
                </div>
                <div class="popup_table_container"> 
                    <div class="search_box"> 
                        <input type="text" name="search_mentor" ng-model="mentor_search_key" placeholder="Enter a Mentors Name..." ng-change="search_mentors()" /> 
                        <span class="fa fa-search"></span>
                    </div>
                    <table class="table table-striped">
                        <tr ng-repeat="mentor in mentors_result">
                            <td> [[$index+1]] </td>
                            <td> [[mentor.firstName]] </td>
                            <td>
                                <a href="" ng-click="assign_mentee_a_mentor(mentor)" class="assign_button bg_black"> ASSIGN </a>
                            </td>
                        </tr>
                    </table>                    
                </div>
            </div>
             <div id="assign_mentee_saq">
                <div class="popup_header login_header"> 
                    <h3> Assign SAQ to a mentee </h3>
                    <a href="" ng-click="show_popup=false;" class="close_button"> X </a>
                </div>
                <div class="popup_table_container"> 
                    <div class="search_box"> 
                        <input type="text" name="search_mentor" placeholder="Enter a Mentors Name..." ng-model="mentee_search_key" ng-change="search_mentees()"/> 
                        <span class="fa fa-search"></span>
                    </div>
                    <table class="table table-striped">
                        <tr ng-repeat="mentee in mentees_result">
                            <td> [[$index+1]] </td>
                            <td> [[mentee.firstName]] </td>
                            <td>
                                <a href="" ng-click="assign_mentee_a_saq(mentee)" class="assign_button bg_black"> ASSIGN </a>
                            </td>
                        </tr>
                    </table>  
                </div>
            </div>
        </div>

        <?php  echo $this->menuview ?>
        <?php if($role == 4){ ?>

        <div class="table_container">
        	<span class="table_list_header"><span class="fa fa-file-text"></span> Skill Assessment Questionaries </span>
        	<table class="table table-striped">
        		<tr>
                    <th> # </th>
        			<th> Name </th>
        			<th> Action </th>
                    <th> &nbsp; </th>
        		</tr>
        		<tr ng-repeat="question in visible_questionairs">
                    <td> [[$index+1]] </td>
        			<td> [[question.name]] </td>
        			<td> <a href="/user/saqlist/saqview/[[question.id]]" class="view_button"> VIEW </a> </td>
                    <td>
                        <a href="" ng-click="assign_saq(question)" class="assign_button bg_black"> ASSIGN </a>
                    </td>
        		</tr>
        	</table>
            <div class="page" ng-show="que_pages > 1">
                <ul class="pagination"> 
                    <li class="arrow unavailable">
                        <a href="" ng-click="select_ques_page(-1)">&laquo;</a>
                    </li>
                    <li ng-repeat="page in range(que_pages)" ng-class="getClass($index+1)">
                        <a href="" ng-click="select_ques_page($index+1)">[[$index+1]]</a>
                    </li>
                    <!-- <li class="unavailable">
                        <a href="">&hellip;</a>
                    </li>  -->
                    <li class="arrow">
                        <a href="" ng-click="select_ques_page(0)">&raquo;</a>
                    </li> 
                </ul>
            </div>
        </div>			
                
        <div class="table_container">
            <span class="table_list_header"><span class="fa fa-star"></span> Mentors </span>
            <table class="table table-striped">
                    <tr>
                            <th> # </th>
                            <th> Name </th>
                            <th> Status </th>
                            <th> Actions </th>
                            <th> &nbsp; </th>
                    </tr>
                    <tr ng-repeat="mentor in visible_mentors">
                            <td> [[$index+1]] </td>
                            <td> [[mentor.firstName]] </td>
                            <td> [[mentor.status]] </td>
                            <td>
                                <a href="" ng-click="activate(mentor)" class="activate_button" ng-hide="mentor.status == 'ACTIVE'" ng-show="mentor.status == 'INACTIVE'"> ACTIVATE </a>
                                <a href="" ng-click="de_activate(mentor)" class="deactivate_button" ng-show="mentor.status == 'ACTIVE'" ng-hide="mentor.status == 'INACTIVE'"> DEACTIVATE </a>
                            </td>
                            <td> <a href="/user/adminmentor/mentee/[[mentor.id]]" class="view_button"> VIEW </a> </td>
                    </tr>
            </table>
            <div class="page" ng-show="mentor_pages > 1">
                <ul class="pagination"> 
                    <li class="arrow unavailable">
                        <a href="" ng-click="select_mentor_page(-1)">&laquo;</a>
                    </li>
                    <li ng-repeat="page in range(mentor_pages)" ng-class="getClass($index+1)">
                        <a href="" ng-click="select_mentor_page($index+1)">[[$index+1]]</a>
                    </li>
                    <!-- <li class="unavailable">
                        <a href="">&hellip;</a>
                    </li>  -->
                    <li class="arrow">
                        <a href="" ng-click="select_mentor_page(0)">&raquo;</a>
                    </li> 
                </ul>
            </div>
        </div>
       <?php  } ?>

        <div class="table_container">
            <span class="table_list_header"><span class="fa fa-mortar-board"></span> Mentees </span>
            <table class="table table-striped">
                    <tr>
                        <th> # </th>
                        <th> Name </th>
                        <th> Status </th>
                        <th> Actions </th>
                        <th> &nbsp; </th>
                    </tr>
                    <tr ng-repeat="mentee in visible_mentees">
                            <td> [[$index+1]] </td>
                            <td> [[mentee.firstName]] </td>
                            <td> [[mentee.status]] </td>
                            <td>
                                <a href="" ng-click="assign(mentee)" class="assign_button" ng-hide="mentee.status == 'ASSIGNED'" ng-show="mentor.status == 'UNASSIGNED'"> ASSIGN </a>
                                <a href="" ng-click="assign(mentee)" class="reassign_button" ng-show="mentee.status == 'ASSIGNED'" ng-hide="mentor.status == 'UNASSIGNED'"> REASSIGN </a>
                            </td>
                            <td> 
                                <a href="/user/adminmentee/mentee/[[mentee.id]]" class="view_button" ng-show="user_type == 'Administrator'"> VIEW </a>
                                <a href="/user/mentor/mentee/[[mentee.id]]" ng-show="user_type == 'Mentor'" class="view_button"> VIEW </a>
                             </td>
                    </tr>
            </table>
            <div class="page" ng-show="mentee_pages > 1">
                <ul class="pagination"> 
                    <li class="arrow unavailable">
                        <a href="" ng-click="select_mentee_page(-1)">&laquo;</a>
                    </li>
                    <li ng-repeat="page in range(mentee_pages)" ng-class="getClass($index+1)">
                        <a href="" ng-click="select_mentee_page($index+1)">[[$index+1]]</a>
                    </li>
                    <!-- <li class="unavailable">
                        <a href="">&hellip;</a>
                    </li>  -->
                    <li class="arrow">
                        <a href="" ng-click="select_mentee_page(0)">&raquo;</a>
                    </li> 
                </ul>
            </div>
        </div>
    </div>
</body>

